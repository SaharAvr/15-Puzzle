{"version":3,"sources":["pages/GamePage/components/Board/Board.scss","pages/GamePage/components/Stats/Stats.scss","shared/components/AnimatedButton/AnimatedButton.scss","pages/GamePage/GamePage.scss","pages/LeaderboardPage/LeaderboardPage.scss","pages/MainPage/MainPage.scss","index.scss","shared/components/AnimatedButton/AnimatedButton.js","shared/routes/consts.js","shared/selectors/selectors.js","store/actions.js","pages/MainPage/MainPage.js","shared/components/AlertDialog.js","shared/rest/restUrls.js","shared/utils/timeUtils.js","pages/GamePage/components/Stats/Stats.js","pages/GamePage/components/Board/useCheats.js","pages/GamePage/components/Board/boardHelper.js","pages/GamePage/components/Board/Board.js","store/init.js","pages/GamePage/GamePage.js","pages/LeaderboardPage/LeaderboardPage.js","store/reducer.js","App.js","index.js"],"names":["module","exports","AnimatedButton","React","forwardRef","ref","className","text","onClick","href","disabled","classNames","styles","animatedButton","animatedButtonInnerWrapper","animatedButtonBgContainer","role","defaultProps","propTypes","PropTypes","string","func","bool","pathNames","selectUsername","state","username","selectIsGameMode","isGameMode","selectIsPaused","isPaused","selectMoves","moves","selectTime","time","setUsername","makeActionCreator","setIsGameMode","setIsPaused","setMoves","setTime","MainPage","dispatch","useDispatch","useSelector","inputRef","useRef","startButtonLinkRef","useState","isInputFocused","setIsInputFocused","isInputValid","length","showInputError","resetUsernameOnLoad","useCallback","actions","focusInputOnLoad","current","focus","onSubmit","e","preventDefault","click","useEffect","mainPage","inputWrapper","withError","data-validate","type","name","placeholder","onChange","target","value","onFocus","onBlur","data-symbol","AlertDialog","title","body","confirmButton","discardButton","delayMS","showAfterDelay","_","isNumber","isOpen","setIsOpen","openDialogAfterDelay","setTimeout","onConfirm","isFunction","onDiscard","Dialog","open","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","color","autoFocus","restUrls","reduce","CONFIGURATION","RECORD","LEADERBOARD","res","endpoint","endpointKey","process","replace","Date","toUTCString","Stats","restartGame","timeRef","startTime","useMemo","now","pauseClickTime","setPauseClickTime","totalPauseTimeCount","setTotalPauseTimeCount","totalPlayTimeCount","updateTime","updateTimeRef","pauseGame","resumeGame","stats","restartButton","pauseButton","resumeButton","timeUtils","cheats","SWAP","maxCheatStringLength","chain","values","map","cheat","size","max","useCheats","activeCheat","setActiveCheat","cheatString","setCheatString","cheatStringRef","clearanceTimeoutRef","listenToKeyPresses","keydownListener","document","addEventListener","key","appendedString","toLower","newCheatString","substring","removeEventListener","listenToCheatStrings","RegExp","test","console","log","activatedCheat","find","toUpper","data","setActiveCheatData","newData","clearCheatStringOnTimeout","clearTimeout","puzzleSize","paddedPuzzleSize","puzzleSideSize","emptyPaddedConfiguration","times","sortedValidConfiguration","num","finalConfiguration","transformToPaddedIndex","index","paddedPuzzleSideSize","Math","floor","Board","initialConfiguration","onSolveCallback","history","useHistory","isInitialConfigutaionValid","isArray","sortBy","isEqual","boardHelper","extendedInitialConfiguration","configuration","empty","currentConfiguration","setCurrentConfiguration","nextConfiguration","setNextConfiguration","paddedConfiguration","tile","redirectOutIfConfigurationInvalid","push","startGameIfConfigurationValid","onSolve","getPaddedTileNeighbors","tileIndex","paddedTileIndex","top","right","bottom","left","moveTile","tileValue","paddedTileNeighbors","movementDirection","findKey","newCurrentConfiguration","newNextConfiguration","findIndex","swapTiles","tile1Index","tile2Index","onTileClick","Number","dataset","activeCheatName","activeCheatData","isNil","selected","board","data-id","tileClassName","data-tile-index","data-tile-value","withCheats","onAnimationEnd","uniqueId","store","persistor","memo","GamePage","useStore","setInitialConfiguration","didSolvePuzzle","setDidSolvePuzzle","redirectOutIfUsernameInvalid","loadInitialConfiguration","a","fetch","response","json","getState","method","headers","JSON","stringify","goToLeaderboardPage","gamePage","puzzleSolved","gamePaused","gravity","run","numberOfPieces","LeaderboardPage","actionButtonText","actionButtonHref","leaderboardStats","setLeaderboardStats","loadLeaderboard","leaderboardPage","withFade","isEmpty","actionButton","combineReducers","makeReducer","defaultState","persistConfig","version","storage","persistedReducer","persistReducer","reducer","createStore","middlewares","applyMiddleware","persistStore","initStore","hot","loading","path","exact","component","to","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8da5046e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"Board_board__29-vl\",\"tile\":\"Board_tile__3Ymhw\",\"empty\":\"Board_empty__1gxMu\",\"top\":\"Board_top__Ic1aJ\",\"moveTop\":\"Board_moveTop__3xhjx\",\"right\":\"Board_right__2_HCr\",\"moveRight\":\"Board_moveRight__2By8J\",\"bottom\":\"Board_bottom__1xtci\",\"moveBottom\":\"Board_moveBottom__3gVCX\",\"left\":\"Board_left__1L6g6\",\"moveLeft\":\"Board_moveLeft__2oT5I\",\"withCheats\":\"Board_withCheats__2v4dd\",\"flicker\":\"Board_flicker__2CAXw\",\"selected\":\"Board_selected__S5A-n\",\"fadeIn\":\"Board_fadeIn__2lzj2\",\"fadeInBottomTop\":\"Board_fadeInBottomTop__1-zR8\",\"fadeInLeftRight\":\"Board_fadeInLeftRight__32TLr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stats\":\"Stats_stats__3gBwN\",\"actions\":\"Stats_actions__1QOC0\",\"restartButton\":\"Stats_restartButton__1UNvd\",\"pauseButton\":\"Stats_pauseButton__1pDxZ\",\"resumeButton\":\"Stats_resumeButton__2_GFM\",\"fadeIn\":\"Stats_fadeIn__Zoumi\",\"fadeInBottomTop\":\"Stats_fadeInBottomTop__bVIlK\",\"fadeInLeftRight\":\"Stats_fadeInLeftRight__1u6oK\",\"flicker\":\"Stats_flicker__2qIBR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"animatedButton\":\"AnimatedButton_animatedButton__1SurT\",\"animatedButtonInnerWrapper\":\"AnimatedButton_animatedButtonInnerWrapper__1RucT\",\"animatedButtonBgContainer\":\"AnimatedButton_animatedButtonBgContainer__E2Lzh\",\"disabled\":\"AnimatedButton_disabled__34BNW\",\"fadeIn\":\"AnimatedButton_fadeIn__3rQW2\",\"fadeInBottomTop\":\"AnimatedButton_fadeInBottomTop__2_raM\",\"fadeInLeftRight\":\"AnimatedButton_fadeInLeftRight__1qWH9\",\"flicker\":\"AnimatedButton_flicker__2D1cG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gamePage\":\"GamePage_gamePage__RkYJb\",\"fadeIn\":\"GamePage_fadeIn__1W9Zx\",\"puzzleSolved\":\"GamePage_puzzleSolved__2oQkb\",\"gamePaused\":\"GamePage_gamePaused__v3GrE\",\"stats\":\"GamePage_stats__zYTP1\",\"fadeInBottomTop\":\"GamePage_fadeInBottomTop__3i44h\",\"fadeInLeftRight\":\"GamePage_fadeInLeftRight__lVcuh\",\"flicker\":\"GamePage_flicker__1dmU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leaderboardPage\":\"LeaderboardPage_leaderboardPage__1VFxE\",\"withFade\":\"LeaderboardPage_withFade__2YmSN\",\"fadeInBottomTop\":\"LeaderboardPage_fadeInBottomTop__1VgP3\",\"fadeIn\":\"LeaderboardPage_fadeIn__G-A7Z\",\"actionButton\":\"LeaderboardPage_actionButton__3KS0i\",\"fadeInLeftRight\":\"LeaderboardPage_fadeInLeftRight__183ml\",\"flicker\":\"LeaderboardPage_flicker__1sT0C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainPage\":\"MainPage_mainPage__JXrbz\",\"inputWrapper\":\"MainPage_inputWrapper__3mTBc\",\"fadeIn\":\"MainPage_fadeIn__bB1cu\",\"fadeInBottomTop\":\"MainPage_fadeInBottomTop__3NoA8\",\"fadeInLeftRight\":\"MainPage_fadeInLeftRight__2XBc-\",\"flicker\":\"MainPage_flicker__32H5o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fadeIn\":\"index_fadeIn__38lkY\",\"fadeInBottomTop\":\"index_fadeInBottomTop__2JA79\",\"fadeInLeftRight\":\"index_fadeInLeftRight__7Tlft\",\"flicker\":\"index_flicker__1MeR_\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './AnimatedButton.scss';\n\nconst AnimatedButton = React.forwardRef(({\n  className,\n  text,\n  onClick,\n  href,\n  disabled,\n}, ref) => (\n  \n  <div\n    className={classNames(styles.animatedButton, className, {\n      [styles.disabled]: disabled,\n    })}\n  >\n    <div className={styles.animatedButtonInnerWrapper}>\n      <div className={styles.animatedButtonBgContainer}/>\n      <button>\n        <a {...{ href, ref, onClick, role: 'none' }}>\n          {text}\n        </a>\n      </button>\n    </div>\n  </div>\n\n));\n\nAnimatedButton.defaultProps = {\n  className: '',\n  text: '',\n  onClick() {},\n  href: null,\n  disabled: false,\n};\n\nAnimatedButton.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.string,\n  onClick: PropTypes.func,\n  href: PropTypes.string,\n  disabled: PropTypes.bool,\n};\n\nexport default AnimatedButton;\n","export const pathNames = {\n  MAIN: '/',\n  GAME: '/game',\n  LEADERBOARD: '/leaderboard',\n};\n","export const selectUsername = state => state.username;\nexport const selectIsGameMode = state => state.isGameMode;\nexport const selectIsPaused = state => state.isPaused;\nexport const selectMoves = state => state.moves;\nexport const selectTime = state => state.time;\n","import { makeActionCreator } from 'redux-toolbelt';\n\nexport default {\n  setUsername: makeActionCreator('setUsername'),\n  setIsGameMode: makeActionCreator('setIsGameMode'),\n  setIsPaused: makeActionCreator('setIsPaused'),\n  setMoves: makeActionCreator('setMoves'),\n  setTime: makeActionCreator('setTime'),\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\n\nimport AnimatedButton from 'shared/components/AnimatedButton';\nimport { pathNames } from 'shared/routes/consts';\nimport { selectUsername } from 'shared/selectors';\nimport actions from 'store/actions';\n\nimport styles from './MainPage.scss';\n\nconst MainPage = () => {\n\n  const dispatch = useDispatch();\n  const username = useSelector(selectUsername);\n\n  const inputRef = React.useRef();\n  const startButtonLinkRef = React.useRef();\n  const [isInputFocused, setIsInputFocused] = React.useState(false);\n  \n  const isInputValid = username?.length;\n  const showInputError = (!isInputValid && !isInputFocused);\n  \n  const resetUsernameOnLoad = React.useCallback(() => {\n\n    dispatch(actions.setUsername(null));\n\n  }, [dispatch]);\n\n  const focusInputOnLoad = React.useCallback(() => {\n\n    if (!inputRef.current) {\n      return;\n    }\n\n    inputRef.current.focus();\n\n  }, []);\n\n  const onSubmit = React.useCallback(e => {\n\n    e.preventDefault();\n    \n    if (!startButtonLinkRef.current) {\n      return;\n    }\n\n    startButtonLinkRef.current.click();\n\n  }, []);\n\n  React.useEffect(focusInputOnLoad, [focusInputOnLoad]);\n\n  React.useEffect(resetUsernameOnLoad, [resetUsernameOnLoad]);\n\n  return (\n    <main className={styles.mainPage}>\n\n      <form onSubmit={onSubmit}>\n        \n        <h1>15 Puzzle</h1>\n\n        <div\n          className={classNames(styles.inputWrapper, {\n            withError: showInputError,\n          })}\n          data-validate=\"Username is reauired\"\n        >\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Type your username\"\n            onChange={e => dispatch(actions.setUsername(e.target.value))}\n            onFocus={() => setIsInputFocused(true)}\n            onBlur={() => setIsInputFocused(false)}\n            ref={inputRef}\n          />\n          <span data-symbol=\"&#xf206;\"/>\n        </div>\n\n        <AnimatedButton\n          text=\"Start Game\"\n          href={pathNames.GAME}\n          ref={startButtonLinkRef}\n          disabled={!isInputValid}\n        />\n\n      </form>\n\n    </main>\n  );\n\n};\n\nexport default MainPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nconst AlertDialog = ({\n  title,\n  body,\n  confirmButton,\n  discardButton,\n  delayMS,\n}) => {\n\n  const showAfterDelay = (_.isNumber(delayMS) && delayMS > 0);\n  const [isOpen, setIsOpen] = React.useState(!showAfterDelay);\n\n  const openDialogAfterDelay = React.useCallback(() => {\n\n    if (!showAfterDelay) {\n      return;\n    }\n\n    setTimeout(() => {\n      setIsOpen(true);\n    }, delayMS);\n    \n  }, [delayMS, showAfterDelay]);\n\n  const onConfirm = React.useCallback((...args) => {\n\n    setIsOpen(false);\n\n    if (_.isFunction(confirmButton?.onClick)) {\n      confirmButton.onClick(...args);\n    }\n\n  }, [confirmButton]);\n\n  const onDiscard = React.useCallback((...args) => {\n\n    setIsOpen(false);\n\n    if (_.isFunction(discardButton?.onClick)) {\n      discardButton.onClick(...args);\n    }\n\n  }, [discardButton]);\n\n  React.useEffect(openDialogAfterDelay, [openDialogAfterDelay]);\n\n  return (\n    <Dialog open={isOpen} onClose={() => setIsOpen(false)}>\n\n      <DialogTitle id=\"alert-dialog-title\">\n        {title || ''}\n      </DialogTitle>\n\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {body || ''}\n        </DialogContentText>\n      </DialogContent>\n\n      {(confirmButton || discardButton) && (\n        <DialogActions>\n          {discardButton && (\n            <Button onClick={onDiscard} color=\"primary\">\n              {discardButton.text || ''}\n            </Button>\n          )}\n          {confirmButton && (\n            <Button onClick={onConfirm} color=\"primary\" autoFocus>\n              {confirmButton.text || ''}\n            </Button>\n          )}\n        </DialogActions>\n      )}\n      \n    </Dialog>\n  );\n\n};\n\nAlertDialog.defaultProps = {\n  title: '',\n  body: '',\n  confirmButton: null,\n  discardButton: null,\n  delayMS: 0,\n};\n\nAlertDialog.propTypes = {\n  title: PropTypes.string,\n  body: PropTypes.string,\n  confirmButton: PropTypes.shape({\n    text: PropTypes.string,\n    onClick: PropTypes.func,\n  }),\n  discardButton: PropTypes.shape({\n    text: PropTypes.string,\n    onClick: PropTypes.func,\n  }),\n  delayMS: PropTypes.number,\n};\n\nexport default AlertDialog;\n","import _ from 'lodash';\n\nconst apiBase = (() => {\n\n  if (process.env.NODE_ENV === 'development') {\n    return `${window.location.protocol}//${window.location.hostname}:${process.env.REACT_APP_LOCAL_SERVER_PORT}${process.env.REACT_APP_API_BASE}`;\n  }\n\n  return process.env.REACT_APP_API_BASE;\n  \n})();\n\nconst endpoints = {\n  CONFIGURATION: '/configuration',\n  RECORD: '/record',\n  LEADERBOARD: '/leaderboard',\n};\n\nconst restUrls = _.reduce(endpoints, (res, endpoint, endpointKey) => {\n  res[endpointKey] = `${apiBase}${endpoint}`;\n  return res;\n}, {});\n\nexport default restUrls;\n","import _ from 'lodash';\n\nexport default {\n  formatTime: time => _.replace((new Date(time)).toUTCString(), /.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1'),\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport AnimatedButton from 'shared/components/AnimatedButton';\nimport { selectIsGameMode, selectIsPaused, selectMoves, selectTime } from 'shared/selectors';\nimport timeUtils from 'shared/utils/timeUtils';\nimport actions from 'store/actions';\n\nimport styles from './Stats.scss';\n\nconst Stats = ({ className, restartGame }) => {\n  \n  const dispatch = useDispatch();\n\n  const moves = useSelector(selectMoves);\n  const isGameMode = useSelector(selectIsGameMode);\n  const isPaused = useSelector(selectIsPaused);\n\n  const timeRef = React.useRef(isGameMode && !isPaused);\n\n  const startTime = React.useMemo(() => Date.now(), []);\n  const [pauseClickTime, setPauseClickTime] = React.useState();\n  const [totalPauseTimeCount, setTotalPauseTimeCount] = React.useState(0);\n  const totalPlayTimeCount = useSelector(selectTime);\n\n  const updateTime = React.useCallback(() => {\n\n    setTimeout(() => {\n\n      if (!timeRef.current) {\n        return;\n      }\n     \n      dispatch(actions.setTime((Date.now() - startTime) - totalPauseTimeCount));\n\n    }, 500);\n\n  }, [dispatch, startTime, totalPauseTimeCount]);\n\n  const updateTimeRef = React.useCallback(() => {\n\n    timeRef.current = (isGameMode && !isPaused);\n\n  }, [isGameMode, isPaused]);\n\n  const pauseGame = React.useCallback(() => {\n\n    setPauseClickTime(Date.now());\n    dispatch(actions.setIsPaused(true));\n\n  }, [dispatch]);\n\n  const resumeGame = React.useCallback(() => {\n\n    setTotalPauseTimeCount(totalPauseTimeCount + (Date.now() - pauseClickTime));\n    dispatch(actions.setIsPaused(false));\n\n  }, [dispatch, pauseClickTime, totalPauseTimeCount]);\n\n  React.useEffect(updateTime, [updateTime, totalPlayTimeCount]);\n\n  React.useEffect(updateTimeRef, [updateTimeRef]);\n\n  return (\n    <div className={classNames(styles.stats, className)}>\n\n      <div className={styles.actions}>\n        <AnimatedButton\n          className={styles.restartButton}\n          text=\"Restart\"\n          onClick={restartGame}\n        />\n        <AnimatedButton\n          className={classNames({\n            [styles.pauseButton]: !isPaused,\n            [styles.resumeButton]: isPaused,\n          })}\n          text={isPaused ? 'Resume' : 'Pause'}\n          onClick={isPaused ? resumeGame : pauseGame}\n          disabled={!isGameMode}\n        />\n      </div>\n\n      <span>\n        <h4>{timeUtils.formatTime(totalPlayTimeCount)}</h4>\n        <h4>{`Moves: ${moves}`}</h4>\n      </span>\n\n    </div>\n  );\n\n};\n\nStats.defaultProps = {\n  className: '',\n  restartGame() {},\n};\n\nStats.propTypes = {\n  className: PropTypes.string,\n  restartGame: PropTypes.func,\n};\n\nexport default Stats;\n","import React from 'react';\nimport _ from 'lodash';\n\nconst cheats = {\n  SWAP: 'swap',\n};\n\nconst maxCheatStringLength = _.chain(cheats)\n  .values()\n  .map(cheat => _.size(cheat))\n  .max()\n  .value();\n\nconst clearanceTimeoutDelay = 3000;\n\nconst useCheats = () => {\n\n  const [activeCheat, setActiveCheat] = React.useState();\n  const [cheatString, setCheatString] = React.useState('');\n  const cheatStringRef = React.useRef(cheatString);\n  const clearanceTimeoutRef = React.useRef();\n\n  const listenToKeyPresses = React.useCallback(() => {\n\n    const keydownListener = document.addEventListener('keydown', ({ key }) => {\n      \n      const appendedString = `${cheatStringRef.current}${_.toLower(key)}`;\n      const newCheatString = appendedString.substring(_.size(appendedString) - maxCheatStringLength);\n  \n      setCheatString(newCheatString);\n      cheatStringRef.current = newCheatString;\n  \n    });\n\n    return () => document.removeEventListener('keydown', keydownListener);\n\n  }, []);\n\n  const listenToCheatStrings = React.useCallback(() => {\n\n    if (activeCheat) {\n\n      const didTurnCheatOff = (new RegExp(`.*${activeCheat.name}.*`, 'i')).test(cheatString);\n\n      if (!didTurnCheatOff) {\n        return;\n      }\n\n      // eslint-disable-next-line no-console\n      console.log('[CHEAT MODE OFF]');\n      setActiveCheat(null);\n      setCheatString('');\n\n      return;\n\n    }\n\n    if (!cheatString) {\n      return;\n    }\n\n    const activatedCheat = _.find(cheats, value => {\n      return (new RegExp(`.*${value}.*`)).test(cheatString);\n    });\n\n    if (!activatedCheat) {\n      return;\n    }\n\n    // eslint-disable-next-line no-console\n    console.log(`CHEATER... ==> ${_.toUpper(activatedCheat)}`);\n    setActiveCheat({ name: activatedCheat, data: null });\n    setCheatString('');\n\n  }, [activeCheat, cheatString]);\n\n  const setActiveCheatData = React.useCallback(newData => {\n    setActiveCheat({ ...activeCheat, data: newData });\n  }, [activeCheat]);\n\n  const clearCheatStringOnTimeout = React.useCallback(() => {\n\n    if (!cheatString) {\n      return;\n    }\n\n    if (clearanceTimeoutRef.current) {\n      clearTimeout(clearanceTimeoutRef.current);\n      clearanceTimeoutRef.current = null;\n    }\n\n    clearanceTimeoutRef.current = setTimeout(() => {\n      setCheatString('');\n      cheatStringRef.current = '';\n    }, clearanceTimeoutDelay);\n\n  }, [cheatString]);\n\n  React.useEffect(listenToKeyPresses, [listenToKeyPresses]);\n\n  React.useEffect(listenToCheatStrings, [listenToCheatStrings]);\n\n  React.useEffect(clearCheatStringOnTimeout, [clearCheatStringOnTimeout]);\n\n  return {\n    activeCheat,\n    setActiveCheatData,\n  };\n\n};\n\nuseCheats.cheats = cheats;\n\nexport default useCheats;\n","import _ from 'lodash';\nimport styles from './Board.scss';\n\nconst puzzleSideSize = 4;\nexport const paddedPuzzleSideSize = (puzzleSideSize + 2);\nconst puzzleSize = (puzzleSideSize ** 2);\nconst paddedPuzzleSize = (paddedPuzzleSideSize ** 2);\n\nconst emptyPaddedConfiguration = _.times(paddedPuzzleSize, () => -1);\nexport const sortedValidConfiguration = _.times(puzzleSize, num => num);\nexport const finalConfiguration = _.times(puzzleSize, num => ((num + 1) % puzzleSize));\n\nexport const transformToPaddedIndex = index => (\n  (paddedPuzzleSideSize + 1) +\n  (paddedPuzzleSideSize * Math.floor(index / puzzleSideSize)) +\n  (index % puzzleSideSize)\n);\n\nexport const padConfiguration = configuration => {\n\n  if (!configuration) {\n    return emptyPaddedConfiguration;\n  }\n\n  return _.reduce(configuration, (res, tile, index) => {\n    res[transformToPaddedIndex(index)] = tile;\n    return res;\n  }, [...emptyPaddedConfiguration]);\n\n};\n\nexport const extendConfiguration = configuration => _.map(configuration, value => ({\n  value,\n  className: (value === 0 ? styles.empty : ''),\n}));\n\nexport const shrinkConfiguration = configuration => _.map(configuration, 'value');\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport _ from 'lodash';\n\nimport { pathNames } from 'shared/routes/consts';\nimport { selectMoves } from 'shared/selectors';\nimport actions from 'store/actions';\n\nimport useCheats from './useCheats';\nimport * as boardHelper from './boardHelper';\nimport styles from './Board.scss';\n\nconst Board = ({ initialConfiguration, onSolveCallback }) => {\n\n  const { activeCheat, setActiveCheatData } = useCheats();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const moves = useSelector(selectMoves);\n\n  const isInitialConfigutaionValid = React.useMemo(() => (\n    _.isArray(initialConfiguration) &&\n    _.chain(initialConfiguration).sortBy().isEqual(boardHelper.sortedValidConfiguration).value()\n  ), [initialConfiguration]);\n\n  const extendedInitialConfiguration = React.useMemo(() => boardHelper.extendConfiguration(initialConfiguration), [initialConfiguration]);\n  \n  const [currentConfiguration, setCurrentConfiguration] = React.useState(extendedInitialConfiguration);\n  const [nextConfiguration, setNextConfiguration] = React.useState();\n  const paddedConfiguration = React.useMemo(() => boardHelper.padConfiguration(currentConfiguration), [currentConfiguration]);\n\n  const redirectOutIfConfigurationInvalid = React.useCallback(() => {\n\n    if (isInitialConfigutaionValid) {\n      return;\n    }\n\n    history.push(pathNames.MAIN);\n        \n  }, [history, isInitialConfigutaionValid]);\n\n  const startGameIfConfigurationValid = React.useCallback(() => {\n    \n    if (!isInitialConfigutaionValid) {\n      return;\n    }\n\n    dispatch(actions.setIsGameMode(true));\n    \n  }, [dispatch, isInitialConfigutaionValid]);\n\n  const onSolve = React.useCallback(() => {\n\n    dispatch(actions.setIsGameMode(false));\n    onSolveCallback();\n\n  }, [dispatch, onSolveCallback]);\n\n  const getPaddedTileNeighbors = React.useCallback(tileIndex => {\n\n    const paddedTileIndex = boardHelper.transformToPaddedIndex(tileIndex);\n      \n    return {\n      top: {\n        index: (paddedTileIndex - boardHelper.paddedPuzzleSideSize),\n        value: paddedConfiguration[(paddedTileIndex - boardHelper.paddedPuzzleSideSize)]?.value,\n      },\n      right: {\n        index: (paddedTileIndex + 1),\n        value: paddedConfiguration[(paddedTileIndex + 1)]?.value,\n      },\n      bottom: {\n        index: (paddedTileIndex + boardHelper.paddedPuzzleSideSize),\n        value: paddedConfiguration[(paddedTileIndex + boardHelper.paddedPuzzleSideSize)]?.value,\n      },\n      left: {\n        index: (paddedTileIndex - 1),\n        value: paddedConfiguration[(paddedTileIndex - 1)]?.value,\n      },\n    };\n\n  }, [paddedConfiguration]);\n  \n  const moveTile = React.useCallback(({ tileIndex, tileValue }) => {\n\n    const paddedTileNeighbors = getPaddedTileNeighbors(tileIndex);\n\n    const movementDirection = _.findKey(paddedTileNeighbors, ({ value: neighborTileValue }) => (neighborTileValue === 0));\n    if (!movementDirection) {\n      return;\n    }\n    \n    const newCurrentConfiguration = [...currentConfiguration];\n    newCurrentConfiguration[tileIndex] = { value: tileValue, className: styles[movementDirection] };\n    setCurrentConfiguration(newCurrentConfiguration);\n\n    const newNextConfiguration = [...currentConfiguration];\n    const emptyTileIndex = _.findIndex(currentConfiguration, ({ value }) => (value === 0));\n    newNextConfiguration[emptyTileIndex] = { value: tileValue, className: '' };\n    newNextConfiguration[tileIndex] = { value: 0, className: styles.empty };\n    setNextConfiguration(newNextConfiguration);\n    \n    dispatch(actions.setMoves(moves + 1));\n\n    return newNextConfiguration;\n\n  }, [currentConfiguration, dispatch, getPaddedTileNeighbors, moves]);\n\n  const swapTiles = React.useCallback((tile1Index, tile2Index) => {\n\n    const newNextConfiguration = [...currentConfiguration];\n    newNextConfiguration[tile1Index] = { ...currentConfiguration[tile2Index], className: '' };\n    newNextConfiguration[tile2Index] = { ...currentConfiguration[tile1Index], className: '' };\n    setNextConfiguration(newNextConfiguration);\n    \n    dispatch(actions.setMoves(moves + 1));\n\n    return newNextConfiguration;\n\n  }, [currentConfiguration, dispatch, moves]);\n\n  const onTileClick = React.useCallback(e => {\n    \n    const tileIndex = Number(e.target.dataset.tileIndex);\n    const tileValue = Number(e.target.dataset.tileValue);\n\n    const isEmptyTile = (tileValue === 0);\n    if (isEmptyTile) {\n      return;\n    }\n\n    const newNextConfiguration = (() => {\n\n      if (!activeCheat) {\n        return moveTile(({ tileIndex, tileValue }));\n      }\n\n      const { name: activeCheatName, data: activeCheatData } = activeCheat || {};\n      \n      if (activeCheatName === useCheats.cheats.SWAP) {\n\n        const isReadyToSwap = (!_.isNil(activeCheatData) && (activeCheatData !== tileIndex));\n        if (!isReadyToSwap) {\n          const newCurrentConfiguration = [...currentConfiguration];\n          newCurrentConfiguration[tileIndex].className = styles.selected;\n          setCurrentConfiguration(newCurrentConfiguration);\n          setActiveCheatData(tileIndex);\n          return;\n        }\n\n        const otherTileIndex = activeCheatData;\n        const configuration = swapTiles(tileIndex, otherTileIndex);\n        setActiveCheatData(null);\n        setCurrentConfiguration(configuration);\n        \n        return configuration;\n\n      }\n\n      return currentConfiguration;\n\n    })();\n\n    const isPuzzleSolved = _.isEqual(\n      boardHelper.shrinkConfiguration(newNextConfiguration),\n      boardHelper.finalConfiguration,\n    );\n\n    if (isPuzzleSolved) {\n      onSolve();\n    }\n    \n  }, [activeCheat, currentConfiguration, moveTile, onSolve, setActiveCheatData, swapTiles]);\n\n  React.useEffect(redirectOutIfConfigurationInvalid, [redirectOutIfConfigurationInvalid]);\n\n  React.useEffect(startGameIfConfigurationValid, [startGameIfConfigurationValid]);\n\n  return (\n    <div className={styles.board} data-id=\"board\">\n\n      {_.map(currentConfiguration, ({ value: tileValue, className: tileClassName }, index) => (\n        <div\n          role=\"none\"\n          key={_.uniqueId(index)}\n          data-tile-index={index}\n          data-tile-value={tileValue}\n          onClick={onTileClick}\n          className={classNames(styles.tile, tileClassName, {\n            [styles.withCheats]: !_.isNil(activeCheat),\n          })}\n          onAnimationEnd={() => {\n            setCurrentConfiguration(nextConfiguration);\n          }}\n        >\n          {tileValue}\n        </div>\n      ))}\n\n    </div>\n  );\n\n};\n\nBoard.defaultProps = {\n  initialConfiguration: [],\n  onSolveCallback() {},\n};\n\nBoard.propTypes = {\n  initialConfiguration: PropTypes.arrayOf(PropTypes.number),\n  onSolveCallback: PropTypes.func,\n};\n\nexport default React.memo(Board);\n","import { applyMiddleware, createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport reducer from './reducer';\n  \nlet store;\nlet persistor;\n\nconst persistConfig = {\n  key: 'root',\n  version: '1',\n  storage,\n};\n\nconst bindMiddlewares = middlewares => {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line global-require\n    const { composeWithDevTools } = require('redux-devtools-extension');\n    return composeWithDevTools(applyMiddleware(...middlewares));\n  }\n  return applyMiddleware(...middlewares);\n};\n\nexport default () => {\n\n  if (!store || !persistor) {\n\n    const persistedReducer = persistReducer(persistConfig, reducer);\n\n    store = createStore(persistedReducer, {}, bindMiddlewares([]));\n    persistor = persistStore(store);\n\n  }\n  \n  return { store, persistor };\n  \n};\n","import React from 'react';\nimport { useDispatch, useSelector, useStore } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport Confetti from 'react-confetti';\nimport classNames from 'classnames';\n\nimport AlertDialog from 'shared/components/AlertDialog';\nimport { pathNames } from 'shared/routes/consts';\nimport { selectUsername, selectMoves, selectTime, selectIsPaused } from 'shared/selectors';\nimport restUrls from 'shared/rest/restUrls';\nimport actions from 'store/actions';\n\nimport Stats from './components/Stats';\nimport Board from './components/Board';\nimport styles from './GamePage.scss';\n\nconst GamePage = () => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const store = useStore();\n  const username = useSelector(selectUsername);\n  const isPaused = useSelector(selectIsPaused);\n\n  const [initialConfiguration, setInitialConfiguration] = React.useState();\n  const [didSolvePuzzle, setDidSolvePuzzle] = React.useState(false);\n\n  const redirectOutIfUsernameInvalid = React.useCallback(() => {\n    \n    if (username) {\n      return;\n    }\n    \n    history.push(pathNames.MAIN);\n\n  }, [history, username]);\n\n  const loadInitialConfiguration = React.useCallback(async () => {\n\n    const response = await fetch(restUrls.CONFIGURATION, {\n      'Content-Type': 'application/json',\n    });\n    const { data } = await response.json();\n\n    setInitialConfiguration(data);\n\n  }, []);\n\n  const restartGame = React.useCallback(() => {\n\n    dispatch(actions.setIsGameMode(false));\n    dispatch(actions.setIsPaused(false));\n    dispatch(actions.setMoves(0));\n    dispatch(actions.setTime(0));\n    setDidSolvePuzzle(false);\n    setInitialConfiguration(null);\n    loadInitialConfiguration();\n\n  }, [dispatch, loadInitialConfiguration]);\n\n  const onSolveCallback = React.useCallback(async () => {\n    \n    setDidSolvePuzzle(true);\n\n    const state = store.getState();\n    const moves = selectMoves(state);\n    const time = selectTime(state);\n    \n    await fetch(restUrls.RECORD, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        data: { username, moves, time },\n      }),\n    });\n    \n  }, [store, username]);\n\n  const goToLeaderboardPage = React.useCallback(() => {\n\n    history.push(pathNames.LEADERBOARD);\n\n  }, [history]);\n\n  React.useEffect(redirectOutIfUsernameInvalid, [redirectOutIfUsernameInvalid]);\n\n  React.useEffect(restartGame, [restartGame]);\n\n  return (\n    <main\n      className={classNames(styles.gamePage, {\n        [styles.puzzleSolved]: didSolvePuzzle,\n        [styles.gamePaused]: isPaused,\n      })}\n    >\n\n      <h1>{initialConfiguration ? `Game on, ${username}!` : 'Loading...'}</h1>\n      \n      {initialConfiguration && (\n        <>\n          <Stats {...{ className: styles.stats, restartGame }}/>\n          <Board {...{ initialConfiguration, onSolveCallback }}/>\n        </>\n      )}\n      \n      {didSolvePuzzle && (\n        <>\n          <Confetti\n            gravity={0.4}\n            run\n            numberOfPieces={400}\n          />\n          <AlertDialog\n            title=\"Amazing!\"\n            body=\"You finally solved it... Much respect\"\n            confirmButton={{\n              text: 'Play again!',\n              onClick: restartGame,\n            }}\n            discardButton={{\n              text: 'Go to leaderboard',\n              onClick: goToLeaderboardPage,\n            }}\n            delayMS={2000}\n          />\n        </>\n      )}\n\n    </main>\n  );\n\n};\n\nexport default GamePage;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport _ from 'lodash';\n\nimport AnimatedButton from 'shared/components/AnimatedButton';\nimport restUrls from 'shared/rest/restUrls';\nimport { pathNames } from 'shared/routes/consts';\nimport { selectUsername } from 'shared/selectors';\nimport timeUtils from 'shared/utils/timeUtils';\n\nimport styles from './LeaderboardPage.scss';\n\nconst LeaderboardPage = () => {\n\n  const username = useSelector(selectUsername);\n  \n  const actionButtonText = (username ? 'Play Again' : 'Play');\n  const actionButtonHref = (username ? pathNames.GAME : pathNames.MAIN);\n\n  const [leaderboardStats, setLeaderboardStats] = React.useState();\n\n  const loadLeaderboard = React.useCallback(async () => {\n\n    const response = await fetch(restUrls.LEADERBOARD);\n    const { data } = await response.json();\n\n    setLeaderboardStats(data);\n\n  }, []);\n\n  React.useEffect(loadLeaderboard, [loadLeaderboard]);\n\n  return (\n    <main className={styles.leaderboardPage}>\n\n      <h1\n        className={classNames({\n          [styles.withFade]: (leaderboardStats && !_.isEmpty(leaderboardStats)),\n        })}\n      >\n        {leaderboardStats ? 'Leaderboard' : 'Loading...'}\n      </h1>\n\n      {leaderboardStats && (_.isEmpty(leaderboardStats) ? (\n        <h3>No stats yet... Better hurry up and play!</h3>\n      ) : (\n        <table>\n\n          <thead>\n            <tr>\n              <th>Username</th>\n              <th>Moves</th>\n              <th>Time</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {_.map(leaderboardStats, stats => (\n              <tr key={_.uniqueId(stats.username)}>\n                <td>{stats.username}</td>\n                <td>{stats.moves}</td>\n                <td>{timeUtils.formatTime(stats.time)}</td>\n              </tr>\n            ))}\n          </tbody>\n\n        </table>\n      ))}\n\n      {leaderboardStats && (\n        <AnimatedButton\n          className={styles.actionButton}\n          text={actionButtonText}\n          href={actionButtonHref}\n        />\n      )}\n\n    </main>\n  );\n\n};\n\nexport default LeaderboardPage;\n","import { combineReducers } from 'redux';\nimport { makeReducer } from 'redux-toolbelt';\n\nimport actions from './actions';\n\nexport default combineReducers({\n  username: makeReducer(actions.setUsername, { defaultState: null }),\n  isGameMode: makeReducer(actions.setIsGameMode, { defaultState: false }),\n  isPaused: makeReducer(actions.setIsPaused, { defaultState: false }),\n  moves: makeReducer(actions.setMoves, { defaultState: 0 }),\n  time: makeReducer(actions.setTime, { defaultState: 0 }),\n});\n","import React from 'react';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { hot } from 'react-hot-loader/root';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport MainPage from 'pages/MainPage';\nimport GamePage from 'pages/GamePage';\nimport LeaderboardPage from 'pages/LeaderboardPage';\nimport { pathNames } from 'shared/routes/consts';\n\nimport initStore from './store/init';\n\nconst { store, persistor } = initStore();\n\nconst App = () => (\n  <ReduxProvider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <Router>\n        <Switch>\n          <Route path={pathNames.MAIN} exact component={MainPage}/>\n          <Route path={pathNames.GAME} exact component={GamePage}/>\n          <Route path={pathNames.LEADERBOARD} exact component={LeaderboardPage}/>\n          <Redirect to={pathNames.MAIN}/>\n        </Switch>\n      </Router>\n    </PersistGate>\n  </ReduxProvider>\n);\n\nexport default hot(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}